!function(r){"use strict";var s=function(t){this.value=t||"",this.ptr=-1,this.EOI=!this.hasNext()};s.prototype.hasNext=function(){return this.ptr<this.value.length-1},s.prototype.nextMatch=function(t){for(;++this.ptr<this.value.length;)if(this.value[this.ptr].match(t))return this.value[this.ptr];return""},s.prototype.nextChar=function(){return this.nextMatch(/[A-Za-z]/)},s.prototype.nextNumber=function(){return this.nextMatch(/[0-9]/)},s.prototype.nextWild=function(){return this.nextMatch(/[A-Za-z0-9]/)};var o=function(t){this.$element=r(t),this.pattern=String(this.$element.data("masked-input"))||"",this.inputLength=this.$element.val().length,this.allowKey=!0,""!==this.pattern&&this.$element.attr("maxlength",this.pattern.length)};function n(a,i){return this.each(function(){var t=r(this),e=t.data("bs.maskedinput"),n="object"==typeof a&&a;e||t.data("bs.maskedinput",e=new o(this,n)),"string"==typeof a&&e[a](i)})}o.VERSION="0.1.2",o.prototype.peekNextToken=function(t){for(var e=(this.$element.val()||"").length+(t||0),n=this.pattern[e];-1==="X9*/-".indexOf(n)&&e<this.pattern.length;)e++,n=this.pattern[e];return n},o.prototype.format=function(){var t,e=new s(this.$element.val()),n="",a=0,i=this.pattern.length,r=this.getCaretPosition();if(""!==e.value&&this.$element.val().length!==this.inputLength){for(t=this.$element.val().length>this.inputLength?"add":"remove";e.hasNext()&&a<i;){switch(this.pattern[a]){case"X":n+=e.nextChar();break;case"9":n+=e.nextNumber();break;case"*":n+=e.nextWild();break;default:n+=this.pattern[a],null!==r&&"add"==t&&a==r-1&&r++}a++}this.$element.val(n),this.moveCaret(r)}},o.prototype.getCaretPosition=function(){var t=0,e=this.$element[0];if(document.selection){e.focus();var n=document.selection.createRange();n.moveStart("character",-e.value.length),t=n.text.length}else(e.selectionStart||"0"==e.selectionStart)&&(t=e.selectionStart);return t},o.prototype.moveCaret=function(t){var e=this.$element[0];if(null!==t&&null!==e)if(e.createTextRange){var n=e.createTextRange();n.move("character",t),n.select()}else e.selectionStart?(e.focus(),e.setSelectionRange(t,t)):e.focus()},o.prototype.checkKeyAgainstNextToken=function(t,e,n){switch(this.peekNextToken(n)){case"X":return t<65||90<t;case"9":return(e||t<48||57<t)&&(t<96||105<t);case"/":return 191!==t&&111!==t&&this.checkKeyAgainstNextToken(t,e,1);case"-":return 173!==t&&109!==t&&189!==t&&this.checkKeyAgainstNextToken(t,e,1);case"*":return 48<=t&&t<=57||96<=t&&t<=105||65<=t&&t<=90;default:return!0}},o.prototype.keydown=function(t){if(this.inputLength=this.$element.val().length,!(t.ctrlKey||t.altKey||t.metaKey||t.keyCode<32||-1!==r.inArray(t.keyCode,[46,8,9,27,13,110])||65==t.keyCode&&!0===t.ctrlKey||35<=t.keyCode&&t.keyCode<=39)){if(!this.allowKey)return t.preventDefault(),void t.stopImmediatePropagation();this.allowKey=!1,this.checkKeyAgainstNextToken(t.keyCode,t.shiftKey,0)&&(t.preventDefault(),t.stopImmediatePropagation())}},o.prototype.keyup=function(t){this.allowKey=!0,this.format()};var t=r.fn.maskedinput;r.fn.maskedinput=n,r.fn.maskedinput.Constructor=o,r.fn.maskedinput.noConflict=function(){return r.fn.maskedinput=t,this},r(document).on("keydown.bs.maskedinput.data-api","[data-masked-input]",function(t){var e=r(t.target);n.call(e,"keydown",t)}),r(document).on("keyup.bs.maskedinput.data-api","[data-masked-input]",function(t){var e=r(t.target);n.call(e,"keyup")}),r(window).on("load.bs.maskedinput.data-api",function(){r("[data-masked-input]").each(function(){var t=r(this);n.call(t,t.data())})})}(jQuery);